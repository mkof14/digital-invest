# –î–µ–ø–ª–æ–π –Ω–∞ Vercel —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –ø—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ Vercel.

### ‚úÖ –ß—Ç–æ —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ

1. **Vite Plugin** (`vite-plugin-modern-images.ts`)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç WebP –∏ AVIF –ø—Ä–∏ production build
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤ `vite.config.ts` —Å `enabled: mode === 'production'`
   - `runOnBuild: true` - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ

2. **Sharp –±–∏–±–ª–∏–æ—Ç–µ–∫–∞**
   - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ `dependencies` (–Ω–µ devDependencies)
   - Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –µ—ë –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

3. **Vercel –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** (`vercel.json`)
   - `buildCommand: "npm run build"` - –∑–∞–ø—É—Å–∫–∞–µ—Ç production build
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ headers –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è assets
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ü—Ä–∏ –¥–µ–ø–ª–æ–µ –Ω–∞ Vercel

```bash
# Vercel –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
npm install          # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç sharp –∏ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm run build        # –ó–∞–ø—É—Å–∫–∞–µ—Ç vite build –≤ production mode

# –ü—Ä–∏ vite build:
# 1. Vite plugin –ø—Ä–æ–≤–µ—Ä—è–µ—Ç mode === 'production' ‚úì
# 2. –ó–∞–ø—É—Å–∫–∞–µ—Ç generate-modern-formats.js
# 3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç .webp –∏ .avif –¥–ª—è –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
# 4. –°–æ–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
```

### 2. –ß—Ç–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è

**–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):**
- `image.jpg` ‚Üí `image.webp` + `image.avif`
- –ö–∞—á–µ—Å—Ç–≤–æ: WebP 85%, AVIF 80%
- –≠–∫–æ–Ω–æ–º–∏—è: 60-85% —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞

**Responsive —Ä–∞–∑–º–µ—Ä—ã (–≤—Ä—É—á–Ω—É—é):**
- –ó–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ: `node scripts/generate-responsive-images.js`
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç: 400w, 800w, 1200w, 1600w –≤–µ—Ä—Å–∏–∏
- –í—Å–µ —Ñ–æ—Ä–º–∞—Ç—ã: .webp, .avif, .jpg

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Chrome DevTools

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç –Ω–∞ Vercel
2. DevTools ‚Üí Network ‚Üí Img
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è `.webp` –∏–ª–∏ `.avif` —Ñ–∞–π–ª—ã

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö Vercel

–í –ª–æ–≥–∞—Ö –¥–µ–ø–ª–æ—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
üöÄ Starting Modern Image Format Generation

üìã Configuration:
   Quality: WebP 85, AVIF 80
   Formats: webp, avif

üì¶ Found XX images to process

‚úÖ Processed: XX images
üíæ Size Statistics:
   Original total: XX MB
   Generated total: XX MB
   Average savings: XX%
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Lighthouse:
- Performance score –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 90+
- LCP (Largest Contentful Paint) < 2.5s
- Image elements –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å explicit width/height

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Vercel

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

Headers —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `vercel.json`:

```json
{
  "source": "/assets/(.*)",
  "headers": [
    {
      "key": "Cache-Control",
      "value": "public, max-age=31536000, immutable"
    }
  ]
}
```

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è responsive –≤–µ—Ä—Å–∏–π –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è** —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å responsive –≤–µ—Ä—Å–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∑–∞–∫–æ–º–º–∏—Ç–∏—Ç—å:

```bash
# 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤—Å–µ –≤–µ—Ä—Å–∏–∏
node scripts/generate-responsive-images.js

# 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
ls -lh src/assets/projects/*-{400,800,1200,1600}w.{webp,avif,jpg}

# 3. –ö–æ–º–º–∏—Ç–∏–º
git add src/assets/
git commit -m "Add responsive image versions"
git push
```

**–ü–æ—á–µ–º—É?**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è responsive –≤–µ—Ä—Å–∏–π –∑–∞–Ω–∏–º–∞–µ—Ç –≤—Ä–µ–º—è (2-5 –º–∏–Ω—É—Ç)
- Vercel –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç –≤—Ä–µ–º–µ–Ω–∏ —Å–±–æ—Ä–∫–∏
- –õ—É—á—à–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –∏ –∫–æ–º–º–∏—Ç–∏—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Sharp –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ Vercel

**–ü—Ä–∏—á–∏–Ω–∞:** Sharp –≤ devDependencies –≤–º–µ—Å—Ç–æ dependencies

**–†–µ—à–µ–Ω–∏–µ:** Sharp —É–∂–µ –≤ dependencies ‚úì

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel:**
1. Dashboard ‚Üí Deployments ‚Üí Your deployment
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ deployment ‚Üí View Function Logs
3. –ò—â–∏—Ç–µ "Modern Image Format Generation"

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `mode === 'production'` –≤ –ª–æ–≥–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ `src/assets/`

### –ü—Ä–æ–±–ª–µ–º–∞: Timeout –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ responsive –≤–µ—Ä—Å–∏–∏ –ª–æ–∫–∞–ª—å–Ω–æ
node scripts/generate-responsive-images.js

# –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
git add src/assets/
git commit -m "Add pre-generated responsive images"
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

**–†–µ—à–µ–Ω–∏–µ 1 - .gitignore (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```gitignore
# Modern image formats (auto-generated)
**/*.webp
**/*.avif
```

**–†–µ—à–µ–Ω–∏–µ 2 - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CDN (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
- –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—ã –Ω–∞ Cloudinary/Imgix
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö URL transformation API
- –£–¥–∞–ª–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

## CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### Vercel (—Ç–µ–∫—É—â–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞) ‚úì

–†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏:
- `npm install` ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç sharp
- `npm run build` ‚Üí –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã
- Deployment ‚Üí –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### GitHub Actions (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–µ:

```yaml
# .github/workflows/optimize-images.yml
name: Optimize Images

on:
  push:
    paths:
      - 'src/assets/**/*.jpg'
      - 'src/assets/**/*.png'

jobs:
  optimize:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Generate modern formats
        run: node scripts/generate-modern-formats.js
      
      - name: Generate responsive versions
        run: node scripts/generate-responsive-images.js
      
      - name: Commit changes
        run: |
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          git add src/assets/
          git diff --quiet && git diff --staged --quiet || git commit -m "Auto-generate optimized images"
          git push
```

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Vercel Analytics

–í–∫–ª—é—á–∏—Ç–µ Vercel Analytics –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
1. Dashboard ‚Üí Settings ‚Üí Analytics
2. Enable Web Analytics
3. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ Core Web Vitals

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è

- **LCP (Largest Contentful Paint):** < 2.5s
- **FID (First Input Delay):** < 100ms
- **CLS (Cumulative Layout Shift):** < 0.1
- **Image Size:** –£–º–µ–Ω—å—à–µ–Ω–∏–µ –Ω–∞ 60-80%

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –ß—Ç–æ –¥–µ–ª–∞—Ç—å

1. **–ö–æ–º–º–∏—Ç–∏—Ç—å responsive –≤–µ—Ä—Å–∏–∏** - –≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OptimizedImage –∫–æ–º–ø–æ–Ω–µ–Ω—Ç** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback
3. **–£–∫–∞–∑—ã–≤–∞—Ç—å width/height** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç CLS
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å Web Vitals** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Vercel Analytics

### ‚ùå –ß–µ–≥–æ –∏–∑–±–µ–≥–∞—Ç—å

1. **–ù–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å responsive –ø—Ä–∏ –∫–∞–∂–¥–æ–º –¥–µ–ø–ª–æ–µ** - –¥–æ–ª–≥–æ
2. **–ù–µ —Ö—Ä–∞–Ω–∏—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—ã –æ–≥—Ä–æ–º–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞** - –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞
3. **–ù–µ –∑–∞–±—ã–≤–∞—Ç—å –ø—Ä–æ alt —Ç–µ–∫—Å—Ç** - –≤–∞–∂–Ω–æ –¥–ª—è SEO –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π:**
   ```bash
   git push  # Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–µ—Ä—ë—Ç —Å WebP/AVIF
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å responsive –≤–µ—Ä—Å–∏–∏:**
   ```bash
   node scripts/generate-responsive-images.js
   git add src/assets/
   git commit -m "Add responsive images"
   git push
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ Chrome DevTools
   - Network ‚Üí Img ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç—ã
   - Lighthouse ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ Performance score

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –í–∫–ª—é—á–∏—Ç–µ Vercel Analytics
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ Core Web Vitals
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö

## –ò—Ç–æ–≥–æ–≤–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ | –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
|---------|----------------|-------------------|
| –†–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã | 8-12 MB | 2-3 MB |
| LCP | 4-6s | 1.5-2.5s |
| Performance Score | 60-70 | 90-95 |
| –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π | 100% | 20-40% |

üöÄ **–ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é!** Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ.
